{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import Login from'./pages/Login';import Dashboard from'./pages/Dashboard';import Products from'./pages/Products';import Suppliers from'./pages/Suppliers';import InventoryLogs from'./pages/InventoryLogs';import Reports from'./pages/Reports';import Navbar from'./components/Navbar';import{AuthProvider,useAuth}from'./context/AuthContext';import'./styles/App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function AppContent(){const{user,loading}=useAuth();if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"})]});}return/*#__PURE__*/_jsx(Router,{basename:\"/stock/\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[user&&/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:user?\"main-content\":\"full-content\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:!user?/*#__PURE__*/_jsx(Login,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\"})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:user?/*#__PURE__*/_jsx(Dashboard,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/products\",element:user?/*#__PURE__*/_jsx(Products,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/suppliers\",element:user?/*#__PURE__*/_jsx(Suppliers,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/inventory-logs\",element:user?/*#__PURE__*/_jsx(InventoryLogs,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/reports\",element:user&&user.role==='ADMIN'?/*#__PURE__*/_jsx(Reports,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\"})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Navigate,{to:user?\"/dashboard\":\"/login\"})})]})})]})});}function App(){return/*#__PURE__*/_jsx(AuthProvider,{children:/*#__PURE__*/_jsx(AppContent,{})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","Navigate","Login","Dashboard","Products","Suppliers","InventoryLogs","Reports","Navbar","AuthProvider","useAuth","jsx","_jsx","jsxs","_jsxs","AppContent","user","loading","className","children","basename","path","element","to","role","App"],"sources":["C:/Users/User/Downloads/Invent-frontend/frontend/src/App.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport Login from './pages/Login';\nimport Dashboard from './pages/Dashboard';\nimport Products from './pages/Products';\nimport Suppliers from './pages/Suppliers';\nimport InventoryLogs from './pages/InventoryLogs';\nimport Reports from './pages/Reports';\nimport Navbar from './components/Navbar';\nimport { AuthProvider, useAuth } from './context/AuthContext';\nimport './styles/App.css';\n\nfunction AppContent() {\n  const { user, loading } = useAuth();\n\n  if (loading) {\n    return (\n      <div className=\"loading-container\">\n        <div className=\"loading-spinner\"></div>\n        <p>Loading...</p>\n      </div>\n    );\n  }\n\n  return (\n    <Router basename='/stock/'>\n      <div className=\"app\">\n        {user && <Navbar />}\n        <div className={user ? \"main-content\" : \"full-content\"}>\n          <Routes>\n            <Route \n              path=\"/login\" \n              element={!user ? <Login /> : <Navigate to=\"/dashboard\" />} \n            />\n            <Route \n              path=\"/dashboard\" \n              element={user ? <Dashboard /> : <Navigate to=\"/login\" />} \n            />\n            <Route \n              path=\"/products\" \n              element={user ? <Products /> : <Navigate to=\"/login\" />} \n            />\n            <Route \n              path=\"/suppliers\" \n              element={user ? <Suppliers /> : <Navigate to=\"/login\" />} \n            />\n            <Route \n              path=\"/inventory-logs\" \n              element={user ? <InventoryLogs /> : <Navigate to=\"/login\" />} \n            />\n            <Route \n              path=\"/reports\" \n              element={user && user.role === 'ADMIN' ? <Reports /> : <Navigate to=\"/dashboard\" />} \n            />\n            <Route \n              path=\"/\" \n              element={<Navigate to={user ? \"/dashboard\" : \"/login\"} />} \n            />\n          </Routes>\n        </div>\n      </div>\n    </Router>\n  );\n}\n\nfunction App() {\n  return (\n    <AuthProvider>\n      <AppContent />\n    </AuthProvider>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}